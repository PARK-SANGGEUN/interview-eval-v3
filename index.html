<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ëª¨ë‘ì˜ 1:1 ëŒ€ì… ë©´ì ‘ í‰ê°€ v4.1 (All Teachers Edition)</title>

<!-- Pretendard Font -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css">

<style>
:root {
  --main-color: #f97316;
  --bg-color: #f9fafc;
  --border-color: #e2e8f0;
  --card-bg: #ffffff;
  --header-bg: #1e293b;
}
body {
  font-family: 'Pretendard Variable', sans-serif;
  background: var(--bg-color);
  margin: 0;
  color: #1e293b;
  line-height: 1.5;
}

/* HEADER */
header {
  background: var(--header-bg);
  color: #fff;
  text-align: center;
  padding: 2rem 1rem;
  border-bottom: 4px solid var(--main-color);
}
header h1 {
  font-size: 1.9rem;
  margin: 0;
}
header p {
  margin-top: 0.4rem;
  font-size: 1rem;
  opacity: 0.9;
}

/* MAIN LAYOUT */
main {
  max-width: 960px;
  margin: 2rem auto;
  padding: 1rem;
}

/* CARD BOX */
.card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.05);
  margin-bottom: 1.5rem;
  transition: all .3s ease;
}
.card:hover {
  box-shadow: 0 5px 12px rgba(0,0,0,0.08);
}
.card h2 {
  margin: 0;
  padding: 1rem;
  font-size: 1.1rem;
  background: #f1f5f9;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.card-content {
  padding: 1rem 1.5rem;
}

/* INPUTS */
label {
  display: inline-block;
  font-weight: 600;
  margin-top: 0.5rem;
  width: 80px;
}
input[type="text"] {
  padding: 0.6rem;
  border: 1px solid #cbd5e1;
  border-radius: 6px;
  width: calc(40% - 10px);
  margin-right: 0.8rem;
  font-size: 0.95rem;
}
input[type="text"]:focus {
  outline: 2px solid var(--main-color);
}
@media(max-width:768px){
  input[type="text"] {
    width: 100%;
    margin-bottom: 0.6rem;
  }
}

/* ì•ˆë‚´ë¬¸ */
.note {
  background: #fff8f1;
  border-left: 5px solid var(--main-color);
  padding: 1.2rem;
  border-radius: 8px;
  margin: 1.5rem 0;
  color: #475569;
  font-size: 0.95rem;
}

/* ë²„íŠ¼ */
button {
  background: var(--main-color);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.9rem 1.3rem;
  font-size: 1rem;
  margin-top: 1rem;
  cursor: pointer;
  transition: all .2s ease;
}
button:hover {
  background: #ea580c;
}

/* TABLES */
table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
  margin-top: 0.8rem;
}
th, td {
  border: 1px solid var(--border-color);
  padding: 0.7rem;
  text-align: center;
}

/* FOOTER */
footer {
  text-align: center;
  font-size: 0.85rem;
  color: #64748b;
  margin-top: 2.5rem;
  padding-bottom: 2rem;
}
</style>
</head>

<body>
<header>
  <h1>ëª¨ë‘ì˜ 1:1 ëŒ€ì… ë©´ì ‘ í‰ê°€ v4.1</h1>
  <p>All Teachers â€” í•™ìƒë³„ ë£¨ë¸Œë¦­ ê¸°ë°˜ í”¼ë“œë°± ì‹œìŠ¤í…œ</p>
</header>

<main>
  <!-- ê¸°ë³¸ ì •ë³´ -->
  <div class="card">
    <h2>ê¸°ë³¸ ì •ë³´</h2>
    <div class="card-content">
      <label>í•™ìƒ ì´ë¦„</label><input type="text" id="studentName" placeholder="ì˜ˆ: ê¹€ë¯¼ì„œ">
      <label>ëŒ€í•™</label><input type="text" id="university" placeholder="ì˜ˆ: ê²½í¬ëŒ€í•™êµ"><br>
      <label>í•™ê³¼</label><input type="text" id="major" placeholder="ì˜ˆ: ë¬¼ë¦¬í•™ê³¼">
      <label>ì°¨ì‹œ</label><input type="text" id="session" placeholder="ì˜ˆ: 2ì°¨ ë©´ì ‘">
    </div>
  </div>

  <!-- ì‚¬ìš© ì•ˆë‚´ -->
  <div class="note">
    âš™ï¸ <b>ì‚¬ìš© ì•ˆë‚´</b><br>
    ê° í•­ëª©ì˜ ì„¸ë¶€ ê¸°ì¤€ì„ í´ë¦­í•˜ë©´ A~E ë“±ê¸‰ë³„ ë£¨ë¸Œë¦­ ë¬¸êµ¬ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.<br>
    ì½”ë©˜íŠ¸ë¥¼ ì„ íƒí•˜ë©´ í”¼ë“œë°± ì¹¸ì— ìë™ ì…ë ¥ë˜ë©°, ì—¬ëŸ¬ ê°œ ì„ íƒ ë° ìˆ˜ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>
    ëª¨ë“  ì…ë ¥ ë‚´ìš©ì€ ìë™ ì €ì¥ë˜ë©°, <b>[ğŸ’¾ PDF ì €ì¥]</b> ë²„íŠ¼ìœ¼ë¡œ íŒŒì¼ì„ ë‚´ë ¤ë°›ì•„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  </div>

  <!-- ë£¨ë¸Œë¦­ í•­ëª© ì¶œë ¥ ì˜ì—­ -->
  <div id="rubrics"></div>

  <!-- ì¢…í•© í”¼ë“œë°± -->
  <div class="card">
    <h2>â‘¥ ì¢…í•© í”¼ë“œë°±</h2>
    <div class="card-content">
      <textarea id="summary" style="width:100%;height:120px;border:1px solid #cbd5e1;border-radius:6px;padding:.6rem;font-size:.95rem;" placeholder="ì¢…í•© í”¼ë“œë°± ì…ë ¥ ë˜ëŠ” ìˆ˜ì • ê°€ëŠ¥"></textarea>
    </div>
  </div>

  <div style="text-align:center;">
    <button id="saveBtn">ğŸ’¾ PDF ì €ì¥</button>
  </div>
</main>

<footer>
  Copyright@All Teachers (í”¼ë“œë°± p3412@nate.com)
</footer>

<!-- ë‹¤ìŒ ë©”ì‹œì§€ì—ì„œ 2ë¶€ (ë£¨ë¸Œë¦­+ì½”ë©˜íŠ¸+PDFê¸°ëŠ¥) ë¶™ì„ -->
</body>
</html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
// ===============================
// ë£¨ë¸Œë¦­ ë°ì´í„° (5ê°œ ì˜ì—­ Ã— A~E ë¬¸êµ¬)
// ===============================
const rubricData = [
  {
    id: 1,
    title: "â‘  í‘œí˜„ ë° ì†Œí†µëŠ¥ë ¥",
    criteria: "ë§ì˜ ëª…ë£Œì„±, ë…¼ë¦¬ êµ¬ì„±, ë©´ì ‘ íƒœë„",
    levels: {
      A: "ì§ˆë¬¸ ì˜ë„ë¥¼ ì •í™•íˆ íŒŒì•…í•˜ê³  ë…¼ë¦¬ì ìœ¼ë¡œ í‘œí˜„í•¨",
      B: "ëŒ€ë¶€ë¶„ ëª…í™•í•˜ë‚˜ ì•½ê°„ì˜ ë…¼ë¦¬ì  ë¹„ì•½ ì¡´ì¬",
      C: "ê¸°ë³¸ ìˆ˜ì¤€ì˜ ì†Œí†µ ê°€ëŠ¥",
      D: "í‘œí˜„ì´ ë‹¤ì†Œ ë¶ˆë¶„ëª…í•¨",
      E: "ì†Œí†µ ë° ì´í•´ ì–´ë ¤ì›€"
    },
    comments: [
      "ìì‹ ê° ìˆê³  ìì—°ìŠ¤ëŸ¬ìš´ ë§íˆ¬ë¡œ ì „ë‹¬í•¨.",
      "ë‚´ìš©ì´ ì¼ê´€ë˜ë©° í‘œí˜„ì´ ëª…í™•í•¨.",
      "ë…¼ë¦¬ ì „ê°œê°€ ìì—°ìŠ¤ëŸ½ê³  í•µì‹¬ì´ ì˜ ë“œëŸ¬ë‚¨.",
      "í‘œí˜„ë ¥ì´ ìš°ìˆ˜í•˜ë©° ì²­ìì˜ ì´í•´ë¥¼ ë•ëŠ” ì„¤ëª…ì´ ì¢‹ìŒ.",
      "ëª©ì†Œë¦¬ í†¤ê³¼ ì†ë„ê°€ ì•ˆì •ì ì„.",
      "í‘œí˜„ì€ ëª…í™•í•˜ë‚˜ ì–´íˆ¬ê°€ ë‹¤ì†Œ ê²½ì§ë¨.",
      "ë‚´ìš©ì€ ì•Œë§ìœ¼ë‚˜ ì˜ˆì‹œê°€ ë¶€ì¡±í•¨.",
      "ê¸´ì¥ê°ì´ ìˆìœ¼ë‚˜ ì„±ì‹¤íˆ ë‹µë³€í•¨.",
      "ì „ë‹¬ë ¥ì´ ë‹¤ì†Œ ì•½í•˜ì§€ë§Œ ì§„ì •ì„±ì´ ìˆìŒ.",
      "ë‹µë³€ ì˜ë„ëŠ” ì¢‹ìœ¼ë‚˜ ë¬¸ì¥ êµ¬ì„±ì˜ ì™„ì„±ë„ê°€ ë‚®ìŒ."
    ]
  },
  {
    id: 2,
    title: "â‘¡ ì „ê³µì í•©ì„±",
    criteria: "ì „ê³µ ê´€ë ¨ ê²½í—˜, ì§„ë¡œ ë™ê¸°",
    levels: {
      A: "ì „ê³µ ì´í•´ë„ì™€ ê´€ë ¨ ê²½í—˜ì´ ìš°ìˆ˜í•¨",
      B: "ì „ê³µ ê´€ì‹¬ ëšœë ·í•˜ë‚˜ ì¼ë¶€ êµ¬ì²´ì„± ë¶€ì¡±",
      C: "ê´€ì‹¬ì€ ìˆìœ¼ë‚˜ ê²½í—˜ ì œí•œì ",
      D: "ì „ê³µ ë™ê¸° ë¶ˆëª…í™•",
      E: "ì „ê³µê³¼ ë¬´ê´€í•œ ë‹µë³€"
    },
    comments: [
      "ì „ê³µ ê´€ë ¨ ê²½í—˜ê³¼ ì´í•´ë„ê°€ ë§¤ìš° ë†’ìŒ.",
      "ê´€ë ¨ ê³¼ëª© í•™ìŠµ ê²½í—˜ì´ êµ¬ì²´ì ìœ¼ë¡œ ë“œëŸ¬ë‚¨.",
      "ì§„ë¡œ ë™ê¸°ê°€ ëšœë ·í•˜ë©° ì¼ê´€ì„± ìˆëŠ” ë‹µë³€.",
      "ì „ê³µ ì„ íƒì˜ ì´ìœ ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ì„¤ëª…í•¨.",
      "í•´ë‹¹ ì „ê³µì˜ íŠ¹ì§•ì„ ì˜ ì´í•´í•˜ê³  ìˆìŒ.",
      "ê´€ì‹¬ì€ ìˆìœ¼ë‚˜ ì‚¬ë¡€ ì œì‹œê°€ ë¶€ì¡±í•¨.",
      "ì´í•´ë„ëŠ” ìˆìœ¼ë‚˜ ê¹Šì´ ìˆëŠ” ì ‘ê·¼ì´ í•„ìš”í•¨.",
      "ì—°ê²°ì„±ì€ ë³´ì´ì§€ë§Œ êµ¬ì²´ì„±ì´ ì•½í•¨.",
      "ì „ê³µ ê´€ë ¨ì„±ì€ ìˆìœ¼ë‚˜ í‘œí˜„ì´ ë¯¸í¡í•¨.",
      "ì§„ë¡œ ë™ê¸°ê°€ ë‹¤ì†Œ ëª¨í˜¸í•˜ê²Œ ì œì‹œë¨."
    ]
  },
  {
    id: 3,
    title: "â‘¢ íƒêµ¬ë ¥",
    criteria: "ë…¼ë¦¬ì  ì‚¬ê³ , ë¬¸ì œ í•´ê²°ë ¥, ì§€ì  í˜¸ê¸°ì‹¬",
    levels: {
      A: "ë¬¸ì œë¥¼ ê¹Šì´ ë¶„ì„í•˜ê³  ì°½ì˜ì  ëŒ€ì•ˆì„ ì œì‹œí•¨",
      B: "ë…¼ë¦¬ì ì´ê³  ì ì ˆí•œ ë¶„ì„ì´ ê°€ëŠ¥í•¨",
      C: "ê¸°ë³¸ ìˆ˜ì¤€ì˜ ì‚¬ê³  ê°€ëŠ¥",
      D: "ë…¼ë¦¬ êµ¬ì¡° ë¶ˆë¶„ëª…",
      E: "ì‚¬ê³ ë ¥Â·ì´í•´ë ¥ ë¶€ì¡±"
    },
    comments: [
      "ë…¼ë¦¬ì  ì‚¬ê³ ì™€ ë¬¸ì œ í•´ê²° ê³¼ì •ì´ ëª…í™•í•¨.",
      "ë¹„íŒì  ì‚¬ê³ ë¥¼ í†µí•´ íƒ€ë‹¹í•œ ê·¼ê±°ë¥¼ ì œì‹œí•¨.",
      "ìƒˆë¡œìš´ ê´€ì ì—ì„œ ì§ˆë¬¸ì„ ë¶„ì„í•¨.",
      "íƒêµ¬ ê³¼ì •ì´ ì²´ê³„ì ì´ë©° êµ¬ì²´ì ì„.",
      "ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¥¼ ì ê·¹ ì œì‹œí•¨.",
      "ë…¼ë¦¬ ì „ê°œëŠ” ì¢‹ìœ¼ë‚˜ ì˜ˆì‹œ ë¶€ì¡±.",
      "íƒêµ¬ë ¥ì€ ìˆìœ¼ë‚˜ í‘œí˜„ë ¥ì´ ë¶€ì¡±í•¨.",
      "ë¶„ì„ì€ ìˆìœ¼ë‚˜ ê²°ë¡  ë„ì¶œì´ ì•½í•¨.",
      "í˜¸ê¸°ì‹¬ì€ ìˆìœ¼ë‚˜ ê¹Šì´ ë¶€ì¡±.",
      "ë…¼ë¦¬ ì—°ê²°ì´ ë‹¤ì†Œ ë¶ˆë¶„ëª…í•¨."
    ]
  },
  {
    id: 4,
    title: "â‘£ ì¸ì„±",
    criteria: "í˜‘ì—…, ë°°ë ¤, ì±…ì„ê°",
    levels: {
      A: "ì„±ì‹¤í•˜ê³  íƒ€ì¸ì„ ì¡´ì¤‘í•˜ë©° í˜‘ë ¥ íƒœë„ ìš°ìˆ˜",
      B: "ì˜ˆì˜ ë°”ë¥´ê³  ì„±ì‹¤í•¨",
      C: "ì¼ë°˜ì ì¸ íƒœë„ ìœ ì§€",
      D: "ë‹¤ì†Œ ì†Œê·¹ì  íƒœë„",
      E: "ë¬´ì„±ì˜í•˜ê±°ë‚˜ ì˜ˆì˜ ë¶€ì¡±"
    },
    comments: [
      "íƒ€ì¸ì„ ì¡´ì¤‘í•˜ê³  ì˜ˆì˜ ë°”ë¥¸ íƒœë„ë¥¼ ë³´ì„.",
      "í˜‘ë™ì‹¬ê³¼ ì±…ì„ê°ì´ ì˜ ë“œëŸ¬ë‚¨.",
      "ì„±ì‹¤í•˜ê³  ê²¸ì†í•œ ìì„¸ë¡œ ì„í•¨.",
      "ê³µê° ëŠ¥ë ¥ì´ ë›°ì–´ë‚¨.",
      "ë°°ë ¤ì™€ ì¡´ì¤‘ì´ ìì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„ë¨.",
      "íƒœë„ëŠ” ì¢‹ìœ¼ë‚˜ í‘œí˜„ì´ ê²½ì§ë¨.",
      "ì„±ì‹¤í•˜ë‚˜ ì ê·¹ì„±ì´ ë¶€ì¡±í•¨.",
      "ìì‹ ê°ì´ ë‹¤ì†Œ ë‚®ì€ ëª¨ìŠµ.",
      "ì±…ì„ê°ì€ ìˆìœ¼ë‚˜ ì†Œí†µì´ ë¶€ì¡±í•¨.",
      "ì˜ˆì˜ëŠ” ìˆìœ¼ë‚˜ ìê¸°ì£¼ì¥ì´ ì•½í•¨."
    ]
  },
  {
    id: 5,
    title: "â‘¤ ì„±ì¥ ê°€ëŠ¥ì„±",
    criteria: "ìê¸° ì„±ì°°, ë°œì „ ì˜ì§€, ê³„íš",
    levels: {
      A: "ìê¸° ì´í•´ë„ ë†’ê³  êµ¬ì²´ì  ê³„íš ì œì‹œ",
      B: "ì„±ì°°ê³¼ ëª©í‘œì˜ì‹ ìˆìŒ",
      C: "ë°œì „ ì˜ì§€ëŠ” ìˆìœ¼ë‚˜ êµ¬ì²´ì„± ë¶€ì¡±",
      D: "ìê¸°ì¸ì‹ ì•½í•¨",
      E: "ì„±ì°° ë¶€ì¡±"
    },
    comments: [
      "ìê¸° ì´í•´ì™€ ë°œì „ ì˜ì§€ê°€ ëšœë ·í•¨.",
      "ì‹¤íŒ¨ ê²½í—˜ì„ ì„±ì°°í•˜ê³  ê°œì„  ë°©ì•ˆì„ ì œì‹œí•¨.",
      "ëª©í‘œ ì˜ì‹ì´ ëšœë ·í•˜ë©° êµ¬ì²´ì  ê³„íšì´ ìˆìŒ.",
      "ë„ì „ì •ì‹ ê³¼ ê¾¸ì¤€í•œ ì„±ì‹¤í•¨ì´ ë‹ë³´ì„.",
      "ìê¸° ì£¼ë„ì  í•™ìŠµ íƒœë„ë¥¼ ë³´ì„.",
      "ì„±ì°°ì€ ìˆìœ¼ë‚˜ êµ¬ì²´ì„± ë¶€ì¡±.",
      "ì˜ì§€ëŠ” ìˆìœ¼ë‚˜ ì‹¤í–‰ë ¥ì´ ë¶€ì¡±í•¨.",
      "ëª©í‘œëŠ” ìˆìœ¼ë‚˜ ë°©í–¥ì´ ëª¨í˜¸í•¨.",
      "ìê¸° ì´í•´ê°€ ë‹¤ì†Œ ë¶€ì¡±í•¨.",
      "ë°œì „ ê°€ëŠ¥ì„±ì€ ìˆìœ¼ë‚˜ í‘œí˜„ì´ ì•½í•¨."
    ]
  }
];

// ===============================
// í™”ë©´ ìƒì„±
// ===============================
window.onload = () => {
  const container = document.getElementById("rubrics");
  rubricData.forEach(r => {
    const levelCells = Object.entries(r.levels).map(([grade, text]) =>
      `<td onclick="selectGrade(this, ${r.id}, '${grade}')" title="${text}">${grade}</td>`
    ).join("");
    const commentOptions = r.comments.map(c => `<option>${c}</option>`).join("");
    container.innerHTML += `
      <div class="card">
        <h2 onclick="toggleCard(this)">${r.title} â–¼</h2>
        <div class="card-content">
          <table>
            <tr><th>ì„¸ë¶€ ê¸°ì¤€</th><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th></tr>
            <tr><td>${r.criteria}</td>${levelCells}</tr>
          </table>
          <select class="comment-select" onchange="addComment(this, ${r.id})">
            <option value="">ì½”ë©˜íŠ¸ ì„ íƒ</option>${commentOptions}
          </select>
          <textarea id="feedback${r.id}" style="width:100%;height:100px;border:1px solid #cbd5e1;border-radius:6px;padding:.6rem;margin-top:.6rem;" placeholder="í”¼ë“œë°± ì…ë ¥ ë˜ëŠ” ìˆ˜ì • ê°€ëŠ¥"></textarea>
        </div>
      </div>`;
  });
  loadFromStorage();
};

// ===============================
// ì¹´ë“œ ì ‘ê¸°/í¼ì¹˜ê¸°
// ===============================
function toggleCard(h) {
  const content = h.nextElementSibling;
  content.style.display = content.style.display === "block" ? "none" : "block";
}

// ===============================
// ë“±ê¸‰ ì„ íƒ ìƒ‰ìƒ í‘œì‹œ
// ===============================
function selectGrade(cell, id, grade) {
  const row = cell.parentNode;
  row.querySelectorAll("td").forEach(td => td.classList.remove("selected"));
  cell.classList.add("selected");
  saveToStorage();
}

// ===============================
// ì½”ë©˜íŠ¸ ì„ íƒ ì‹œ ìë™ ì¶”ê°€
// ===============================
function addComment(sel, id) {
  if (sel.value) {
    const fb = document.getElementById(`feedback${id}`);
    fb.value += (fb.value ? "\n" : "") + sel.value;
    sel.value = "";
    saveToStorage();
  }
}

// ===============================
// ìë™ ì €ì¥ / ë¶ˆëŸ¬ì˜¤ê¸° (LocalStorage)
// ===============================
function saveToStorage() {
  const data = {
    studentName: studentName.value,
    university: university.value,
    major: major.value,
    session: session.value,
    summary: summary.value
  };
  rubricData.forEach(r => {
    data[`feedback${r.id}`] = document.getElementById(`feedback${r.id}`).value;
  });
  localStorage.setItem("interviewFeedback", JSON.stringify(data));
}
function loadFromStorage() {
  const data = JSON.parse(localStorage.getItem("interviewFeedback") || "{}");
  if (!data) return;
  studentName.value = data.studentName || "";
  university.value = data.university || "";
  major.value = data.major || "";
  session.value = data.session || "";
  summary.value = data.summary || "";
  rubricData.forEach(r => {
    document.getElementById(`feedback${r.id}`).value = data[`feedback${r.id}`] || "";
  });
}

// ===============================
// PDF ì €ì¥ (í•œê¸€ í°íŠ¸ ê¹¨ì§ ë°©ì§€)
// ===============================
async function savePDF() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({ orientation: "p", unit: "mm", format: "a4" });

  // NanumGothic í°íŠ¸ ë¡œë“œ
  const fontUrl = "https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.3/NanumGothic-Regular.woff";
  const font = await fetch(fontUrl).then(res => res.arrayBuffer());
  const fontBase64 = btoa(String.fromCharCode(...new Uint8Array(font)));
  doc.addFileToVFS("NanumGothic.ttf", fontBase64);
  doc.addFont("NanumGothic.ttf", "NanumGothic", "normal");
  doc.setFont("NanumGothic");

  let y = 20;
  doc.setFontSize(14);
  doc.text("ëª¨ë‘ì˜ 1:1 ëŒ€ì… ë©´ì ‘ í‰ê°€ (All Teachers Edition)", 20, y);
  y += 10;

  const n = studentName.value || "í•™ìƒ", u = university.value || "ëŒ€í•™", m = major.value || "í•™ê³¼", s = session.value || "ë©´ì ‘";
  doc.setFontSize(11);
  doc.text(`í•™ìƒ: ${n}   ëŒ€í•™: ${u}   í•™ê³¼: ${m}   ì°¨ì‹œ: ${s}`, 20, y);
  y += 10;

  rubricData.forEach(r => {
    const fb = document.getElementById(`feedback${r.id}`).value;
    if (fb) {
      const lines = doc.splitTextToSize(`${r.title}: ${fb}`, 170);
      doc.text(lines, 20, y);
      y += lines.length * 6 + 4;
    }
  });
  if (summary.value) {
    const lines = doc.splitTextToSize(`ì¢…í•© í”¼ë“œë°±: ${summary.value}`, 170);
    doc.text(lines, 20, y);
  }

  doc.save(`${n}-${u}-${m}-ë©´ì ‘í”¼ë“œë°±-${s}.pdf`);
}
document.getElementById("saveBtn").addEventListener("click", savePDF);
</script>

