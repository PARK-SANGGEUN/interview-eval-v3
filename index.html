<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ëª¨ë‘ì˜ 1:1 ëŒ€ì… ë©´ì ‘ í‰ê°€ v4.0 (All Teachers)</title>

<!-- Pretendard Font -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css">

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body {
  font-family:'Pretendard Variable',sans-serif;
  background:#f9fafc;
  margin:0;
  color:#1e293b;
}
header {
  background:#1e293b;
  color:white;
  text-align:center;
  padding:2rem 1rem;
}
header h1 {
  margin:0;
  font-size:1.9rem;
}
header p {
  margin:.5rem 0 0;
  font-size:1rem;
  opacity:0.9;
}
main {
  max-width:960px;
  margin:2rem auto;
  padding:1rem;
}
.card {
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:12px;
  box-shadow:0 2px 8px rgba(0,0,0,0.05);
  margin-bottom:1.3rem;
  transition:all .3s ease;
}
.card:hover {
  box-shadow:0 4px 10px rgba(0,0,0,0.08);
}
.card h2 {
  margin:0;
  padding:1rem;
  background:#f1f5f9;
  border-bottom:1px solid #e2e8f0;
  font-size:1.05rem;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.card-content {
  display:none;
  padding:1rem;
  animation:fadein .3s ease;
}
@keyframes fadein {
  from {opacity:0;transform:translateY(-5px);}
  to {opacity:1;transform:translateY(0);}
}
.note {
  background:#fff8f1;
  border-left:4px solid #f97316;
  padding:1rem;
  border-radius:6px;
  margin-bottom:1.5rem;
  color:#475569;
}
label {
  display:inline-block;
  width:90px;
  font-weight:600;
  margin-top:.6rem;
}
input[type=text] {
  padding:.6rem;
  border:1px solid #cbd5e1;
  border-radius:6px;
  width:40%;
  margin-right:.8rem;
}
input:focus {
  outline:2px solid #f97316;
}
.comment-select {
  width:100%;
  margin-top:.5rem;
  padding:.6rem;
  border:1px solid #cbd5e1;
  border-radius:6px;
}
.feedback-box {
  width:100%;
  height:100px;
  border:1px solid #cbd5e1;
  border-radius:6px;
  padding:.6rem;
  margin-top:.8rem;
  font-size:.95rem;
  background:#f9fafb;
}
.feedback-box:focus {
  outline:2px solid #f97316;
  background:#fff;
}
button {
  background:#f97316;
  color:#fff;
  border:none;
  border-radius:8px;
  padding:.9rem 1.3rem;
  font-size:1rem;
  margin-top:1rem;
  cursor:pointer;
  transition:all .2s ease;
}
button:hover {
  background:#ea580c;
}
.grade-A {background:#dcfce7!important;}
.grade-B {background:#e0f2fe!important;}
.grade-C {background:#fef9c3!important;}
.grade-D {background:#ffedd5!important;}
.grade-E {background:#fee2e2!important;}
.selected {
  font-weight:600;
  border:2px solid #f97316;
}
table {
  width:100%;
  border-collapse:collapse;
  font-size:.9rem;
  margin-top:.4rem;
}
th, td {
  border:1px solid #e2e8f0;
  padding:.6rem;
  text-align:center;
  cursor:pointer;
}
footer {
  text-align:center;
  font-size:0.85rem;
  color:#64748b;
  margin-top:2rem;
  padding-bottom:2rem;
}
@media(max-width:768px){
  input[type=text]{width:90%;margin-bottom:.5rem;}
}
</style>
</head>

<body>
<header>
  <h1>ëª¨ë‘ì˜ 1:1 ëŒ€ì… ë©´ì ‘ í‰ê°€ v4.0</h1>
  <p>All Teachers â€” í•™ìƒë³„ ë£¨ë¸Œë¦­ ê¸°ë°˜ í”¼ë“œë°± ì‹œìŠ¤í…œ</p>
</header>

<main>
  <div class="card">
    <h2>ê¸°ë³¸ ì •ë³´</h2>
    <div class="card-content" style="display:block;">
      <label>í•™ìƒ ì´ë¦„</label><input type="text" id="studentName" placeholder="ì˜ˆ: ê¹€ë¯¼ì„œ">
      <label>ëŒ€í•™</label><input type="text" id="university" placeholder="ì˜ˆ: ê²½í¬ëŒ€í•™êµ"><br>
      <label>í•™ê³¼</label><input type="text" id="major" placeholder="ì˜ˆ: ë¬¼ë¦¬í•™ê³¼">
      <label>ì°¨ì‹œ</label><input type="text" id="session" placeholder="ì˜ˆ: 2ì°¨ ë©´ì ‘">
    </div>
  </div>

  <div class="note">
    ğŸ’¬ <b>ì‚¬ìš© ì•ˆë‚´</b><br>
    ê° í•­ëª©ì˜ ë“±ê¸‰(A~E)ì„ í´ë¦­í•˜ë©´ ìƒ‰ìƒì´ ë°˜ì˜ë˜ê³ , ì½”ë©˜íŠ¸ë¥¼ ì„ íƒí•˜ë©´ í”¼ë“œë°± ì¹¸ì— ìë™ ì…ë ¥ë©ë‹ˆë‹¤.<br>
    ì—¬ëŸ¬ ì½”ë©˜íŠ¸ë¥¼ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ìˆìœ¼ë©°, [ğŸ’¾ PDF ì €ì¥]ìœ¼ë¡œ ë‚´ë ¤ë°›ì•„ ì§ì ‘ ê³µìœ í•˜ì„¸ìš”.<br>
    ëª¨ë“  ì…ë ¥ ë‚´ìš©ì€ ìë™ ì €ì¥ë˜ì–´ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ìœ ì§€ë©ë‹ˆë‹¤.
  </div>

  <div id="rubrics"></div>

  <div class="card">
    <h2 onclick="toggleCard(this)">â‘¥ ì¢…í•© í”¼ë“œë°± â–¼</h2>
    <div class="card-content">
      <select class="comment-select" id="summarySelect" onchange="addSummaryComment(this)">
        <option value="">ì½”ë©˜íŠ¸ ì„ íƒ</option>
        <option>ë©´ì ‘ íƒœë„ê°€ ì„±ì‹¤í•˜ë©° ë°œì „ ê°€ëŠ¥ì„±ì´ ë†’ìŒ.</option>
        <option>ë…¼ë¦¬ì  ë‹µë³€ êµ¬ì„±ì´ ìš°ìˆ˜í•˜ë©° ì „ê³µ ì´í•´ë„ê°€ ê¹ŠìŒ.</option>
        <option>í‘œí˜„ë ¥ê³¼ íƒœë„ ëª¨ë‘ ê¸ì •ì ìœ¼ë¡œ í‰ê°€ë¨.</option>
        <option>ë‹µë³€ì˜ ì¼ê´€ì„±ê³¼ ìê¸° ì„±ì°°ì´ ë‹ë³´ì„.</option>
        <option>ìì‹ ê° ìˆëŠ” íƒœë„ì™€ ëª…í™•í•œ ì‚¬ê³ ê°€ ë‹ë³´ì„.</option>
        <option>ê¾¸ì¤€í•œ ì—°ìŠµì„ í†µí•´ ë”ìš± ì•ˆì •ëœ ë©´ì ‘ì´ ê¸°ëŒ€ë¨.</option>
        <option>ë‚´ìš© ì´í•´ëŠ” ì¢‹ìœ¼ë‚˜ ê¸´ì¥ê°ì´ ì•½ê°„ ë³´ì„.</option>
        <option>ë©´ì ‘ íƒœë„ëŠ” ìš°ìˆ˜í•˜ë‚˜ ì„¸ë¶€ ê·¼ê±° ì œì‹œê°€ ë¶€ì¡±í•¨.</option>
        <option>ì§„ì •ì„± ìˆëŠ” íƒœë„ë¡œ ì„±ì‹¤íˆ ì„í•¨.</option>
        <option>ë©´ì ‘ ì¤€ë¹„ê°€ ì²´ê³„ì ì´ë©° ë°œì „ ê°€ëŠ¥ì„±ì´ ë§¤ìš° í¼.</option>
      </select>
      <textarea id="summary" class="feedback-box" placeholder="ì¢…í•© í”¼ë“œë°± ì…ë ¥ ë˜ëŠ” ìˆ˜ì • ê°€ëŠ¥"></textarea>
    </div>
  </div>

  <div style="text-align:center;">
    <button onclick="savePDF()">ğŸ’¾ PDF ì €ì¥</button>
  </div>
</main>

<footer>
  Copyright@All Teachers (í”¼ë“œë°± p3412@nate.com)
</footer>
<script>
// ==========================
// 1. ë£¨ë¸Œë¦­ ë°ì´í„° ì •ì˜
// ==========================
const rubricData = [
  {id:1,title:'â‘  í‘œí˜„ ë° ì†Œí†µëŠ¥ë ¥',criteria:'ë§ì˜ ëª…ë£Œì„±, ë…¼ë¦¬ êµ¬ì„±, íƒœë„',levels:{A:'ìš°ìˆ˜',B:'ì–‘í˜¸',C:'ë³´í†µ',D:'ë¯¸í¡',E:'ë¶€ì¡±'},
  comments:[
    "ì§ˆë¬¸ ì˜ë„ë¥¼ ëª…í™•íˆ íŒŒì•…í•˜ê³  ë…¼ë¦¬ì ìœ¼ë¡œ ë‹µë³€í•¨.",
    "ìì‹ ê° ìˆê³  ìì—°ìŠ¤ëŸ¬ìš´ ë§íˆ¬ë¡œ ì „ë‹¬í•¨.",
    "ë‚´ìš©ì´ ì¼ê´€ë˜ë©° í‘œí˜„ì´ ëª…í™•í•¨.",
    "ì–´íœ˜ ì„ íƒì´ í’ë¶€í•˜ê³  ì „ë‹¬ë ¥ì´ ì¢‹ìŒ.",
    "ë§ì˜ ì†ë„ì™€ ì‹œì„ ì²˜ë¦¬ê°€ ì•ˆì •ì ì„.",
    "ë…¼ë¦¬ ì „ê°œëŠ” ì¢‹ìœ¼ë‚˜ ê²°ë¡ ì´ ì•½í•¨.",
    "í•µì‹¬ì„ ì§šì–´ ë§í•˜ì§€ë§Œ ì¼ë¶€ ë°˜ë³µì´ ìˆìŒ.",
    "í‘œí˜„ì€ ëª…í™•í•˜ë‚˜ ì–´íˆ¬ê°€ ë‹¤ì†Œ ê²½ì§ë¨.",
    "ê¸´ì¥ê°ì´ ìˆìœ¼ë‚˜ ì„±ì‹¤íˆ ë‹µë³€í•¨.",
    "ì „ë‹¬ë ¥ì´ ë‹¤ì†Œ ì•½í•˜ì§€ë§Œ ì§„ì •ì„±ì´ ìˆìŒ."
  ]},
  {id:2,title:'â‘¡ ì „ê³µì í•©ì„±',criteria:'ì „ê³µ ê´€ë ¨ ê²½í—˜ê³¼ ì´í•´ë„',levels:{A:'ìš°ìˆ˜',B:'ì–‘í˜¸',C:'ë³´í†µ',D:'ë¯¸í¡',E:'ë¶€ì¡±'},
  comments:[
    "ì „ê³µ ê´€ë ¨ ì§€ì‹ê³¼ ê´€ì‹¬ì´ ëšœë ·í•˜ê²Œ ë“œëŸ¬ë‚¨.",
    "ê´€ë ¨ ê²½í—˜ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•¨.",
    "ì§„ë¡œ ë™ê¸°ê°€ ëª…í™•í•˜ë©° ì¼ê´€ëœ ë‹µë³€ì„ ë³´ì„.",
    "ì „ê³µ ì„ íƒì˜ ì´ìœ ê°€ ë…¼ë¦¬ì ì„.",
    "ê´€ë ¨ ê³¼ëª© í•™ìŠµ ê²½í—˜ì´ ì˜ ë“œëŸ¬ë‚¨.",
    "ê´€ì‹¬ì€ ìˆìœ¼ë‚˜ ì‚¬ë¡€ê°€ ë‹¤ì†Œ ë¶€ì¡±í•¨.",
    "ì´í•´ë„ëŠ” ìˆìœ¼ë‚˜ ê¹Šì´ê°€ ë” í•„ìš”í•¨.",
    "ì „ê³µ ì—°ê²°ì„±ì´ ë¶ˆë¶„ëª…í•¨.",
    "ê´€ì‹¬ í‘œí˜„ì€ ìˆìœ¼ë‚˜ ê·¼ê±° ì œì‹œê°€ ì•½í•¨.",
    "ë‹µë³€ì´ êµ¬ì²´ì„± ë¶€ì¡±ìœ¼ë¡œ ëª¨í˜¸í•¨."
  ]},
  {id:3,title:'â‘¢ íƒêµ¬ë ¥',criteria:'ë…¼ë¦¬ì  ì‚¬ê³ , ë¬¸ì œ í•´ê²°, í˜¸ê¸°ì‹¬',levels:{A:'ìš°ìˆ˜',B:'ì–‘í˜¸',C:'ë³´í†µ',D:'ë¯¸í¡',E:'ë¶€ì¡±'},
  comments:[
    "ë…¼ë¦¬ì  ì‚¬ê³ ì™€ ë¬¸ì œ í•´ê²° ê³¼ì •ì´ ëª…í™•í•¨.",
    "ì‚¬ì‹¤ì„ ë¶„ì„í•˜ê³  ì´ìœ ë¥¼ ì œì‹œí•¨.",
    "ë¹„íŒì  ì‚¬ê³ ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê·¼ê±°ë¥¼ ì œì‹œí•¨.",
    "ìƒˆë¡œìš´ ê´€ì ìœ¼ë¡œ ë¬¸ì œë¥¼ ì ‘ê·¼í•¨.",
    "ì§ˆë¬¸ì— ëŒ€í•´ ë¶„ì„ì  ì‚¬ê³ ê°€ ë‹ë³´ì„.",
    "ë…¼ë¦¬ êµ¬ì¡°ëŠ” ìˆìœ¼ë‚˜ ì˜ˆì‹œê°€ ë¶€ì¡±í•¨.",
    "ì˜ê²¬ì€ ìˆìœ¼ë‚˜ êµ¬ì²´ì  ê·¼ê±° ë¶€ì¡±.",
    "í˜¸ê¸°ì‹¬ì€ ìˆìœ¼ë‚˜ íƒêµ¬ ê¹Šì´ê°€ ì–•ìŒ.",
    "í‘œë©´ì  ë‹µë³€ì— ë¨¸ë¬´ë¦„.",
    "ë…¼ë¦¬ ì—°ê²°ì´ ë‹¤ì†Œ ë¶ˆë¶„ëª…í•¨."
  ]},
  {id:4,title:'â‘£ ì¸ì„±',criteria:'í˜‘ë ¥, ë°°ë ¤, ì±…ì„ê°',levels:{A:'ìš°ìˆ˜',B:'ì–‘í˜¸',C:'ë³´í†µ',D:'ë¯¸í¡',E:'ë¶€ì¡±'},
  comments:[
    "íƒ€ì¸ì„ ì¡´ì¤‘í•˜ê³  ì˜ˆì˜ ë°”ë¥¸ íƒœë„ë¥¼ ë³´ì„.",
    "ì„±ì‹¤í•˜ê³  ê²¸ì†í•œ ìì„¸ë¡œ ì„í•¨.",
    "í˜‘ë™ì‹¬ê³¼ ì±…ì„ê°ì´ ì˜ ë“œëŸ¬ë‚¨.",
    "ê³µê° ëŠ¥ë ¥ì´ ìš°ìˆ˜í•¨.",
    "ë°°ë ¤ì™€ ì¡´ì¤‘ì´ ìì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„ë¨.",
    "íƒœë„ëŠ” ì¢‹ìœ¼ë‚˜ í‘œí˜„ì´ ë‹¤ì†Œ ê²½ì§ë¨.",
    "ì„±ì‹¤í•˜ë‚˜ ì ê·¹ì„±ì€ ë¶€ì¡±í•¨.",
    "ìì‹ ê°ì´ ë‚®ì•„ ì†Œê·¹ì ì¸ ì¸ìƒ.",
    "ì±…ì„ê°ì€ ìˆìœ¼ë‚˜ ì†Œí†µì´ ë¶€ì¡±í•¨.",
    "ì˜ˆì˜ëŠ” ìˆìœ¼ë‚˜ ìê¸°ì£¼ì¥ì´ ì•½í•¨."
  ]},
  {id:5,title:'â‘¤ ì„±ì¥ ê°€ëŠ¥ì„±',criteria:'ìê¸° ì„±ì°°, ë°œì „ ì˜ì§€, ê³„íš',levels:{A:'ìš°ìˆ˜',B:'ì–‘í˜¸',C:'ë³´í†µ',D:'ë¯¸í¡',E:'ë¶€ì¡±'},
  comments:[
    "ìê¸° ì´í•´ì™€ ë°œì „ ì˜ì§€ê°€ ëšœë ·í•¨.",
    "ì‹¤íŒ¨ ê²½í—˜ì„ ì„±ì°°í•˜ê³  ê°œì„  ë°©ì•ˆì„ ì œì‹œí•¨.",
    "ëª©í‘œ ì˜ì‹ì´ ëšœë ·í•˜ë©° êµ¬ì²´ì  ê³„íšì´ ìˆìŒ.",
    "ë„ì „ì •ì‹ ê³¼ ì„±ì‹¤í•¨ì´ ë‹ë³´ì„.",
    "ê¾¸ì¤€í•œ ìê¸°ê³„ë°œ ë…¸ë ¥ì´ ë³´ì„.",
    "ì„±ì°°ì€ ìˆìœ¼ë‚˜ êµ¬ì²´ì„±ì´ ë¶€ì¡±í•¨.",
    "ì˜ì§€ëŠ” ìˆìœ¼ë‚˜ ì‹¤í–‰ë ¥ ë¶€ì¡±.",
    "ëª©í‘œëŠ” ìˆìœ¼ë‚˜ ë°©í–¥ì´ ëª¨í˜¸í•¨.",
    "ìê¸° ì´í•´ê°€ ë‹¤ì†Œ ë¶€ì¡±í•¨.",
    "ë°œì „ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë‚˜ í‘œí˜„ì´ ì•½í•¨."
  ]}
];

// ==========================
// 2. ì¹´ë“œ ë° ë£¨ë¸Œë¦­ ìƒì„±
// ==========================
window.onload = () => {
  const container = document.getElementById('rubrics');
  rubricData.forEach(r => {
    const tableCells = Object.keys(r.levels).map(g =>
      `<td onclick="selectGrade(this,${r.id},'${g}')">${g}</td>`
    ).join('');
    const commentOptions = r.comments.map(c => `<option>${c}</option>`).join('');
    container.innerHTML += `
      <div class="card">
        <h2 onclick="toggleCard(this)">${r.title} â–¼</h2>
        <div class="card-content">
          <table>
            <tr><th>ì„¸ë¶€ ê¸°ì¤€</th><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th></tr>
            <tr><td>${r.criteria}</td>${tableCells}</tr>
          </table>
          <select class="comment-select" onchange="addComment(this,${r.id})">
            <option value="">ì½”ë©˜íŠ¸ ì„ íƒ</option>${commentOptions}
          </select>
          <textarea id="feedback${r.id}" class="feedback-box" placeholder="í”¼ë“œë°± ì…ë ¥ ë˜ëŠ” ìˆ˜ì • ê°€ëŠ¥"></textarea>
        </div>
      </div>`;
  });

  loadFromStorage();
};

// ==========================
// 3. ì¹´ë“œ í† ê¸€
// ==========================
function toggleCard(h){
  const content = h.nextElementSibling;
  content.style.display = content.style.display === 'block' ? 'none' : 'block';
}

// ==========================
// 4. ë“±ê¸‰ ì„ íƒ
// ==========================
function selectGrade(cell, idx, grade){
  let row = cell.parentNode;
  row.querySelectorAll('td').forEach(td => td.classList.remove('selected','grade-A','grade-B','grade-C','grade-D','grade-E'));
  cell.classList.add('selected','grade-'+grade);
  saveToStorage();
}

// ==========================
// 5. ì½”ë©˜íŠ¸ ì¶”ê°€
// ==========================
function addComment(sel, id){
  if(sel.value){
    let fb = document.getElementById('feedback'+id);
    fb.value += (fb.value ? '\n' : '') + sel.value;
    sel.value = '';
    saveToStorage();
  }
}
function addSummaryComment(sel){
  if(sel.value){
    let fb = document.getElementById('summary');
    fb.value += (fb.value ? '\n' : '') + sel.value;
    sel.value = '';
    saveToStorage();
  }
}

// ==========================
// 6. ìë™ ì €ì¥ (LocalStorage)
// ==========================
function saveToStorage(){
  const data = {
    studentName: studentName.value,
    university: university.value,
    major: major.value,
    session: session.value,
    summary: summary.value
  };
  rubricData.forEach(r=>{
    data['feedback'+r.id] = document.getElementById('feedback'+r.id).value;
  });
  localStorage.setItem('interviewFeedback', JSON.stringify(data));
}
function loadFromStorage(){
  const data = JSON.parse(localStorage.getItem('interviewFeedback') || '{}');
  if(!data) return;
  studentName.value = data.studentName || '';
  university.value = data.university || '';
  major.value = data.major || '';
  session.value = data.session || '';
  summary.value = data.summary || '';
  rubricData.forEach(r=>{
    document.getElementById('feedback'+r.id).value = data['feedback'+r.id] || '';
  });
}

// ==========================
// 7. PDF ì €ì¥ (NanumGothic í¬í•¨)
// ==========================
async function savePDF(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({orientation:'p',unit:'mm',format:'a4'});
  
  // NanumGothic í°íŠ¸ ë‚´ì¥
  const fontUrl = "https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.3/NanumGothic-Regular.woff";
  const font = await fetch(fontUrl).then(res => res.arrayBuffer());
  const fontBase64 = btoa(
    String.fromCharCode(...new Uint8Array(font))
  );
  doc.addFileToVFS("NanumGothic.ttf", fontBase64);
  doc.addFont("NanumGothic.ttf", "NanumGothic", "normal");
  doc.setFont("NanumGothic");
  
  let y=20;
  doc.setFontSize(14);
  doc.text("ëª¨ë‘ì˜ 1:1 ëŒ€ì… ë©´ì ‘ í‰ê°€ (All Teachers)",20,y);
  y+=10;
  doc.setFontSize(11);
  const n = studentName.value||'í•™ìƒ', u = university.value||'ëŒ€í•™', m = major.value||'í•™ê³¼', s = session.value||'ë©´ì ‘';
  doc.text(`í•™ìƒ: ${n}   ëŒ€í•™: ${u}   í•™ê³¼: ${m}   ì°¨ì‹œ: ${s}`,20,y);
  y+=10;

  rubricData.forEach(r=>{
    const fb = document.getElementById('feedback'+r.id).value;
    if(fb){
      const lines = doc.splitTextToSize(`${r.title}: ${fb}`,170);
      doc.text(lines,20,y);
      y += lines.length*6 + 4;
    }
  });
  if(summary.value){
    const lines = doc.splitTextToSize(`ì¢…í•© í”¼ë“œë°±: ${summary.value}`,170);
    doc.text(lines,20,y);
  }
  doc.save(`${n}-${u}-${m}-ë©´ì ‘í”¼ë“œë°±-${s}.pdf`);
}
</script>
</body>
</html>

